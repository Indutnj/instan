(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{190:function(e,t,c){},191:function(e,t,c){},198:function(e,t,c){},288:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),r=c(29),a=c.n(r),i=(c(190),c(1)),l=(c(191),c(34)),o=c(28),d=(c(192),c(6)),j=c(294),u=c(291),b=c(292),p=c(293),O=c(70),h=c(24),x=c(19),m=c(22),f=c(26),g=c(25),y=c(290),v=c(297),N=c(298),w=c(299),L=c(300),I=c(301),_=c(302),D=c(303),A=c(304),S=(c(198),c(2)),k=y.a.Header,G=y.a.Sider,P=y.a.Content,E=function(e){Object(f.a)(c,e);var t=Object(g.a)(c);function c(){var e;Object(x.a)(this,c);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={collapsed:!0},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(m.a)(c,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("user"));return Object(S.jsxs)(y.a,{children:[Object(S.jsxs)(y.a,{className:"site-layout",children:[Object(S.jsx)(k,{className:"site-layout-background",style:{position:"sticky",top:0,width:"100%",left:0,padding:0,zIndex:9999},children:Object(S.jsxs)("div",{className:"d-flex justify-content-between align-items-center bs1",children:[Object(S.jsxs)("div",{className:"d-flex align-items-center",children:[Object(S.jsx)(N.a,{}),Object(S.jsx)("h4",{className:"pt-3",children:JSON.parse(localStorage.getItem("user")).username})]}),Object(S.jsx)("h2",{className:"logotext pt-1",children:Object(S.jsx)("b",{children:"Instagram"})}),s.a.createElement(this.state.collapsed?w.a:L.a,{className:"trigger",onClick:this.toggle})]})}),Object(S.jsx)(P,{className:"site-layout-background",style:{},children:this.props.children})]}),Object(S.jsxs)(G,{style:{position:"sticky",top:0,bottom:0,overflow:"auto",height:"100vh"},trigger:null,collapsible:!0,collapsed:this.state.collapsed,children:[Object(S.jsx)("div",{className:"logo"}),Object(S.jsxs)(v.a,{theme:"dark",mode:"inline",defaultSelectedKeys:[window.location.pathname],children:[Object(S.jsx)(v.a.Item,{icon:Object(S.jsx)(I.a,{}),children:Object(S.jsx)(l.b,{to:"/",children:"Home"})},"/"),Object(S.jsx)(v.a.Item,{icon:Object(S.jsx)(_.a,{}),children:Object(S.jsx)(l.b,{to:"/addpost",children:"Addpost"})},"/addpost"),Object(S.jsx)(v.a.Item,{icon:Object(S.jsx)(N.a,{}),children:Object(S.jsx)(l.b,{to:"/profile/".concat(e._id),children:"Profile"})},"/profile"),Object(S.jsx)(v.a.Item,{icon:Object(S.jsx)(D.a,{}),children:Object(S.jsx)(l.b,{to:"/allusers",children:"Connections"})},"/allusers"),Object(S.jsx)(v.a.Item,{icon:Object(S.jsx)(A.a,{}),children:Object(S.jsx)(l.b,{onClick:function(){localStorage.removeItem("user",window.location.reload())},children:"Logout"})})]})]})]})}}]),c}(s.a.Component),T=E,U=c(15),C=c.n(U),M=c(31),F=c(51),R=c.n(F),J=c(181),W=function(){return function(){var e=Object(M.a)(C.a.mark((function e(t){var c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING",payload:!0}),e.prev=1,e.next=4,R.a.get("/api/posts/getallposts");case 4:c=e.sent,t({type:"LOADING",payload:!1}),t({type:"GET_ALL_POSTS",payload:c.data}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t({type:"LOADING",payload:!1}),J.b.error("something went wrong");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},K=j.a.TextArea;var q=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],s=t[1],r=Object(h.b)();return Object(S.jsx)(T,{children:Object(S.jsx)(u.a,{justify:"center",children:Object(S.jsx)(b.a,{lg:12,children:Object(S.jsxs)(p.a,{className:"bs1 p-3 mt-5",layout:"vertical",onFinish:function(e){e.image=c,r(function(e){return function(){var t=Object(M.a)(C.a.mark((function t(c){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.user=JSON.parse(localStorage.getItem("user"))._id,e.likes=[],e.comments=[],console.log(e),c({type:"LOADING",payload:!0}),t.prev=5,t.next=8,R.a.post("/api/posts/addpost",e);case 8:c({type:"LOADING",payload:!1}),J.b.success("Post added successfully"),window.location.href="/",t.next=18;break;case 13:t.prev=13,t.t0=t.catch(5),console.log(t.t0),c({type:"LOADING",payload:!1}),J.b.error("something went wrong");case 18:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}()}(e))},children:[Object(S.jsx)("h3",{children:"Add new post"}),Object(S.jsx)(p.a.Item,{name:"description",label:"Description",rules:[{required:!0}],children:Object(S.jsx)(K,{})}),Object(S.jsx)(p.a.Item,{name:"image",label:"Image",rules:[{required:!0}],children:Object(S.jsx)(j.a,{type:"file",onChange:function(e){var t=e.target.files[0],c=new FileReader(t);c.readAsDataURL(t),c.onloadend=function(){s(c.result)}}})}),""!==c&&Object(S.jsx)("img",{src:c,height:"200",alt:"IMG",width:"200"}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{className:"text-left mt-3",children:Object(S.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Post"})})]})})})})},z=c(296),B=c(69),H=c.n(B),V=c(305),Q=c(306),X=c(307),Y=c(308),Z=j.a.TextArea;var $=function(e){var t=e.post,c=e.postInProfilePage,s=Object(h.b)(),r=JSON.parse(localStorage.getItem("user")),a=t.likes.find((function(e){return e.user.toString()===r._id})),i=Object(h.c)((function(e){return e.alertsReducer})),o=i.likeOrUnlikeLoading,p=i.addCommentLoading,O=i.editPostLoading,x=i.deletePostLoading,m=Object(n.useState)(!1),f=Object(d.a)(m,2),g=f[0],y=f[1],v=Object(n.useState)(!1),N=Object(d.a)(v,2),w=N[0],L=N[1],I=Object(n.useState)(""),_=Object(d.a)(I,2),D=_[0],A=_[1],k=Object(n.useState)(t.description),G=Object(d.a)(k,2),P=G[0],E=G[1],T=Object(h.c)((function(e){return e.usersReducer})).users;return Object(n.useEffect)((function(){s(W())}),[o,p,O,x]),Object(S.jsxs)("div",{className:"bs1 p-2 mt-3",children:[Object(S.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(S.jsxs)("div",{className:"d-flex align-items-center",children:[""===t.user.profilePicUrl?Object(S.jsx)("span",{className:"profilepic1 d-flex align-items-center",children:t.user.username[0]}):Object(S.jsx)("img",{src:t.user.profilePicUrl,alt:"IMG",height:"35",width:"35",style:{borderRadius:"50%"}}),Object(S.jsx)("span",{className:"ml-2",children:t.user.username})]}),Object(S.jsx)("div",{children:Object(S.jsx)("p",{children:H()(t.createdAt).format("MMM DD yyyy")})})]}),Object(S.jsx)("img",{src:t.image,alt:"IMG",style:{height:!0===c&&"200px"},className:"postimage w-100"}),Object(S.jsx)("p",{className:"mt1 mb-1 text-left",children:t.description}),Object(S.jsxs)("div",{className:c?"d-flex align-items-center justify-content-between":"d-flex align-items-center",children:[Object(S.jsxs)("div",{className:"d-flex align-items-center mr-3",children:[Object(S.jsx)(V.a,{style:{color:a?"red":"grey"},onClick:function(){var e;s((e={postid:t._id},function(){var t=Object(M.a)(C.a.mark((function t(c){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.userid=JSON.parse(localStorage.getItem("user"))._id.toString(),console.log(e),c({type:"LIKE_UNLIKE_LOADING",payload:!0}),t.prev=3,t.next=6,R.a.post("/api/posts/likeorunlikepost",e);case 6:c({type:"LIKE_UNLIKE_LOADING",payload:!1}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0),c({type:"LIKE_UNLIKE_LOADING",payload:!1}),J.b.error("something went wrong");case 14:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()))}}),Object(S.jsx)("p",{children:t.likes.length})]}),Object(S.jsxs)("div",{className:"d-flex align-items-center",children:[Object(S.jsx)(Q.a,{onClick:function(){y(!0)}}),Object(S.jsx)("p",{children:t.comments.length})]}),t.user._id===r._id&&!0===c&&Object(S.jsxs)(S.Fragment,{children:[" ",Object(S.jsx)("div",{children:Object(S.jsx)(X.a,{onClick:function(){var e;s((e={_id:t._id},function(){var t=Object(M.a)(C.a.mark((function t(c){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),c({type:"DELETE_POST_LOADING",payload:!0}),t.prev=2,t.next=5,R.a.post("/api/posts/deletepost",e);case 5:c({type:"DELETE_POST_LOADING",payload:!1}),J.b.success("Post deleted successfully"),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),c({type:"DELETE_POST_LOADING",payload:!1}),J.b.error("something went wrong");case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()))}})}),Object(S.jsx)("div",{children:Object(S.jsx)(Y.a,{onClick:function(){L(!0)}})})]})]}),Object(S.jsx)(z.a,{visible:g,title:"Comments",closable:!1,width:900,okText:"Add comment",onOk:function(){var e;s((e={postid:t._id,comment:D},function(){var t=Object(M.a)(C.a.mark((function t(c){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.userid=JSON.parse(localStorage.getItem("user"))._id.toString(),console.log(e),c({type:"ADD_COMMENT_LOADING",payload:!0}),t.prev=3,t.next=6,R.a.post("/api/posts/addcomment",e);case 6:c({type:"ADD_COMMENT_LOADING",payload:!1}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0),c({type:"ADD_COMMENT_LOADING",payload:!1}),J.b.error("something went wrong");case 14:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}())),y(!1)},onCancel:function(){y(!1)},children:Object(S.jsxs)(u.a,{children:[Object(S.jsx)(b.a,{lg:13,xs:0,children:Object(S.jsx)("img",{src:t.image,alt:"IMG",height:"400",className:"w-100"})}),Object(S.jsxs)(b.a,{lg:11,xs:24,children:[Object(S.jsx)(Z,{placeholder:"add your comment here",className:"ml-2",value:D,onChange:function(e){A(e.target.value)}}),t.comments.map((function(e){var c=T.find((function(t){return t._id===e.user}));return Object(S.jsxs)("div",{className:"d-flex align-items-center m-1 p-1 justify-content-between",children:[Object(S.jsxs)("div",{className:"d-flex align-items-center ",children:[""===c.profilePicUrl?Object(S.jsx)("span",{className:"profilepic1 d-flex align-items-center",children:c.username[0]}):Object(S.jsx)("img",{src:t.user.profilePicUrl,alt:"IMG",height:"35",width:"35",style:{borderRadius:"50%"}}),Object(S.jsx)(l.b,{className:"ml-1",style:{fontSize:15,marginLeft:10},children:c.username}),Object(S.jsx)("p",{style:{fontSize:15},children:e.comment})]}),Object(S.jsx)("div",{className:"text-right d-flex",children:Object(S.jsx)("p",{style:{fontSize:13},className:"text-right",children:e.date})})]})}))]})]})}),Object(S.jsx)(z.a,{title:"Edit description",closable:!1,onOk:function(){var e;s((e={_id:t._id,description:P},function(){var t=Object(M.a)(C.a.mark((function t(c){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),c({type:"EDIT_POST_LOADING",payload:!0}),t.prev=2,t.next=5,R.a.post("/api/posts/editpost",e);case 5:c({type:"EDIT_POST_LOADING",payload:!1}),J.b.success("Post updated successfully"),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),c({type:"EDIT_POST_LOADING",payload:!1}),J.b.error("something went wrong");case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}())),L(!1)},okText:"edit",visible:w,onCancel:function(){L(!1)},children:Object(S.jsx)(j.a,{value:P,onChange:function(e){E(e.target.value)}})})]})};var ee=function(e){var t=e.match,c=Object(h.c)((function(e){return e.usersReducer})).users,s=Object(h.c)((function(e){return e.postsReducer})).posts,r=c.find((function(e){return e._id===t.params.userid})),a=JSON.parse(localStorage.getItem("user")),i=s.filter((function(e){return e.user._id===t.params.userid})),o=Object(n.useState)(!1),j=Object(d.a)(o,2),p=j[0],x=j[1],m=Object(n.useState)(!1),f=Object(d.a)(m,2),g=f[0],y=f[1];return Object(S.jsx)(T,{children:c.length>0&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(u.a,{justify:"center",children:Object(S.jsx)(b.a,{lg:12,sm:24,xs:24,children:Object(S.jsxs)("div",{className:"bs1 m-2 p-2 text-left",children:[Object(S.jsxs)("div",{className:"d-flex align-items-center",children:[""===r.profilePicUrl?Object(S.jsx)("p",{className:"profilepic2",children:r.username[0]}):Object(S.jsx)("img",{src:r.profilePicUrl,alt:"IMG",height:"60",width:"60"}),Object(S.jsxs)("div",{className:"text-left ml-3",children:[Object(S.jsx)("p",{style:{color:"black"},children:r.username}),Object(S.jsx)("p",{style:{fontSize:15},children:H()(r.createdAt).format("MMM DD yyyy")}),a._id===r._id&&Object(S.jsx)(O.a,{children:Object(S.jsx)(l.b,{to:"/editprofile",children:"Edit profile"})})]})]}),Object(S.jsx)("p",{style:{color:"black",fontSize:16},children:""===r.bio?"Frontend Developer":r.bio}),Object(S.jsxs)("div",{className:"text-left",children:[Object(S.jsxs)(O.a,{className:"mr-2",onClick:function(){x(!0)},children:["Followers : ",r.followers.length]}),Object(S.jsxs)(O.a,{onClick:function(){y(!0)},children:["Following : ",r.following.length]})]}),Object(S.jsxs)("p",{style:{color:"black",fontSize:16},children:["Total posts : ",i.length]})]})})}),r.followers.find((function(e){return e===a._id}))||!1===r.privateAccount||r._id===a._id?Object(S.jsx)(u.a,{gutter:16,justify:"center",children:i.map((function(e){return Object(S.jsx)(b.a,{lg:5,sm:24,xs:24,children:Object(S.jsx)($,{post:e,postInProfilePage:!0})})}))}):Object(S.jsx)("p",{children:"This account is private"}),Object(S.jsx)(z.a,{title:"Followers",visible:p,closable:!1,onCancel:function(){x(!1)},onOk:function(){x(!1)},children:r.followers.map((function(e){var t=c.find((function(t){return t._id===e}));return Object(S.jsxs)("div",{className:"d-flex align-items-center bs1 p-1 mt-2",children:[""===t.profilePicUrl?Object(S.jsx)("span",{className:"profilepic1 d-flex align-items-center",children:t.username[0]}):Object(S.jsx)("img",{src:t.profilePicUrl,alt:"IMG",height:"35",width:"35",style:{borderRadius:"50%"}}),Object(S.jsxs)("div",{className:"ml-2",children:[Object(S.jsx)("div",{style:{margin:2},children:Object(S.jsx)("span",{children:t.username})}),Object(S.jsxs)("div",{style:{margin:2},children:["Since ",H()(t.createdAt).format("MMM DD yyyy")]})]})]})}))}),Object(S.jsx)(z.a,{title:"Following",visible:g,closable:!1,onCancel:function(){y(!1)},onOk:function(){y(!1)},children:r.following.map((function(e){var t=c.find((function(t){return t._id===e}));return Object(S.jsxs)("div",{className:"d-flex align-items-center bs1 p-1 m-2",children:[""===t.profilePicUrl?Object(S.jsx)("span",{className:"profilepic1 d-flex align-items-center",children:t.username[0]}):Object(S.jsx)("img",{src:t.profilePicUrl,alt:"IMG",height:"35",width:"35",style:{borderRadius:"50%"}}),Object(S.jsxs)("div",{className:"ml-2",children:[Object(S.jsx)("div",{style:{margin:2},children:Object(S.jsx)("span",{children:t.username})}),Object(S.jsxs)("div",{style:{margin:2},children:["Since ",H()(t.createdAt).format("MMM DD yyyy")]})]})]})}))})]})})};var te=function(){var e=Object(h.c)((function(e){return e.postsReducer})).posts;return Object(S.jsx)(T,{children:Object(S.jsx)(u.a,{justify:"center",children:Object(S.jsx)(b.a,{lg:12,xs:24,children:e.map((function(e){return Object(S.jsx)($,{post:e})}))})})})},ce=function(e){return function(){var e=Object(M.a)(C.a.mark((function e(t){var c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING",payload:!0}),e.prev=1,e.next=4,R.a.get("/api/users/getallusers");case 4:c=e.sent,t({type:"LOADING",payload:!1}),t({type:"GET_ALL_USERS",payload:c.data}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t({type:"LOADING",payload:!1}),J.b.error("something went wrong");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()};var ne=function(){var e=Object(h.b)();return Object(S.jsxs)("div",{className:"login-maindiv",children:[Object(S.jsx)("h2",{className:"logotext-login pt-5",children:Object(S.jsx)("b",{children:"Instagram"})}),Object(S.jsx)(u.a,{justify:"center",className:"login-div align-items-center",children:Object(S.jsx)(b.a,{lg:8,xs:24,children:Object(S.jsxs)(p.a,{layout:"vertical",className:"bs1 p-3",onFinish:function(t){console.log(t),e(function(e){return function(){var t=Object(M.a)(C.a.mark((function t(c){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOADING",payload:!0}),t.prev=1,t.next=4,R.a.post("/api/users/login",e);case 4:n=t.sent,c({type:"LOADING",payload:!1}),J.b.success("Login success"),localStorage.setItem("user",JSON.stringify(n.data)),window.location.href="/",t.next=16;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0),c({type:"LOADING",payload:!1}),J.b.error("Invalid credentials");case 16:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(S.jsx)("h3",{children:"Login"}),Object(S.jsx)("hr",{}),Object(S.jsx)(p.a.Item,{label:"username",name:"username",rules:[{required:!0}],children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(p.a.Item,{label:"password",name:"password",rules:[{required:!0}],children:Object(S.jsx)(j.a,{type:"password"})}),Object(S.jsx)("div",{className:"text-left",children:Object(S.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Login"})}),Object(S.jsx)(l.b,{to:"/register",children:"Not yet registered , click here to register"})]})})})]})};var se=function(){var e=Object(h.b)();return Object(S.jsxs)("div",{className:"register-maindiv",children:[Object(S.jsx)("h2",{className:"logotext-register pt-5",children:Object(S.jsx)("b",{children:"Instagram"})}),Object(S.jsx)(u.a,{justify:"center",className:"register-main-div align-items-center",children:Object(S.jsx)(b.a,{lg:8,xs:24,children:Object(S.jsxs)(p.a,{layout:"vertical",className:"bs1 p-3",onFinish:function(t){console.log(t),delete t.cpassword,e(function(e){return function(){var t=Object(M.a)(C.a.mark((function t(c){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOADING",payload:!0}),t.prev=1,t.next=4,R.a.post("/api/users/register",e);case 4:c({type:"LOADING",payload:!1}),J.b.success("User registered successfully"),window.location.href="/login",t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),c({type:"LOADING",payload:!1}),J.b.error("something went wrong");case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(S.jsx)("h3",{children:"Register"}),Object(S.jsx)("hr",{}),Object(S.jsx)(p.a.Item,{label:"username",name:"username",rules:[{required:!0}],children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(p.a.Item,{label:"password",name:"password",rules:[{required:!0}],children:Object(S.jsx)(j.a,{type:"password"})}),Object(S.jsx)(p.a.Item,{label:"confirm password",name:"cpassword",rules:[{required:!0}],children:Object(S.jsx)(j.a,{})}),Object(S.jsx)("div",{className:"text-left",children:Object(S.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Register"})}),Object(S.jsx)(l.b,{to:"/login",children:"Already registered , click here to login"})]})})})]})},re=c(184),ae=c(309);var ie=function(){var e=Object(h.c)((function(e){return e.usersReducer})).users,t=JSON.parse(localStorage.getItem("user")),c=Object(h.c)((function(e){return e.alertsReducer})),s=c.followLoading,r=c.unfollowLoading,a=Object(n.useState)(""),i=Object(d.a)(a,2),o=i[0],p=i[1],x=Object(h.b)();return Object(n.useEffect)((function(){x(ce())}),[s,r]),Object(S.jsx)(T,{children:Object(S.jsxs)("div",{children:[Object(S.jsx)(u.a,{justify:"center",children:Object(S.jsx)(b.a,{lg:20,className:"d-flex mt-3",children:Object(S.jsx)(j.a,{placeholder:"search users",className:"search users",value:o,onChange:function(e){p(e.target.value)}})})}),Object(S.jsx)(u.a,{justify:"center",gutter:16,className:"mt-3",children:e.filter((function(e){return e.username.toLowerCase().includes(o.toLowerCase())})).map((function(e){return Object(S.jsx)(S.Fragment,{children:t._id!==e._id&&Object(S.jsx)(b.a,{lg:5,xs:24,className:"text-left",children:Object(S.jsxs)("div",{className:"bs1 p-2 mt-3",children:[""===e.profilePicUrl?Object(S.jsx)("p",{className:"profilepic2",children:e.username[0]}):Object(S.jsx)("img",{src:e.profilePicUrl,alt:"IMG",height:"60",width:"60",style:{borderRadius:"50%"}}),Object(S.jsx)("div",{children:Object(S.jsx)(l.b,{to:"/profile/".concat(e._id),children:e.username})}),Object(S.jsx)("p",{children:H()(e.createdAt).format("MMM DD yyyy")}),e.followers.find((function(e){return e===t._id}))?Object(S.jsxs)("div",{className:"d-flex",children:[Object(S.jsx)(O.a,{icon:Object(S.jsx)(re.a,{}),children:"Following"}),Object(S.jsx)(O.a,{className:"ml-2",onClick:function(){x((t._id,e._id,function(){var e=Object(M.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"UNFOLLOW_LOADING",payload:!0});try{t({type:"UNFOLLOW_LOADING",payload:!1}),J.b.success("UnFollowed successfully")}catch(c){console.log(c),t({type:"UnFOLLOW_LOADING",payload:!1}),J.b.error("something went wrong")}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:"UnFollow"})]}):Object(S.jsx)(O.a,{icon:Object(S.jsx)(ae.a,{}),onClick:function(){x((t._id,e._id,function(){var e=Object(M.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"FOLLOW_LOADING",payload:!0});try{t({type:"FOLLOW_LOADING",payload:!1}),J.b.success("Followed successfully")}catch(c){console.log(c),t({type:"FOLLOW_LOADING",payload:!1}),J.b.error("something went wrong")}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:"Follow"})]})})})}))})]})})},le=c(295);var oe=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(n.useState)(e.profilePicUrl),c=Object(d.a)(t,2),s=c[0],r=c[1],a=Object(h.b)();return Object(S.jsx)(T,{children:Object(S.jsx)(u.a,{justify:"center mt-5",children:Object(S.jsx)(b.a,{lg:10,xs:24,sm:24,className:"mt-5",children:Object(S.jsx)("div",{children:Object(S.jsxs)(p.a,{layout:"vertical",initialValues:e,className:"p-2 bs1",onFinish:function(t){t.profilePicUrl=s,t._id=e._id,console.log(t),a(function(e){return function(){var t=Object(M.a)(C.a.mark((function t(c){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"EDIT_POST_LOADING",payload:!0}),t.prev=1,t.next=4,R.a.post("/api/users/edit",e);case 4:n=t.sent,c({type:"EDIT_POST_LOADING",payload:!1}),J.b.success("User profile updated successfully"),localStorage.setItem("user",JSON.stringify(n.data)),window.location.href="profile/".concat(n.data._id),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0),c({type:"EDIT_POST_LOADING",payload:!1}),J.b.error("something went wrong");case 16:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(S.jsx)("h3",{children:"Edit Profile"}),Object(S.jsx)(p.a.Item,{name:"username",label:"Username",children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(p.a.Item,{name:"bio",label:"Bio",children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(p.a.Item,{label:"Profile pic",name:"profilePicUrl",children:Object(S.jsxs)("div",{className:"d-flex align-items-center",children:[""===s?Object(S.jsx)("p",{className:"profilepic2",children:e.username[0]}):Object(S.jsx)("img",{src:s,alt:"IMG",height:"60",width:"60"}),Object(S.jsx)(j.a,{type:"file",onChange:function(e){var t=e.target.files[0],c=new FileReader(t);c.readAsDataURL(t),c.onloadend=function(){r(c.result)}}})]})}),Object(S.jsx)(p.a.Item,{name:"privateAccount",children:Object(S.jsxs)(le.a,{children:[Object(S.jsx)(le.a.Option,{value:!0,children:"Private"}),Object(S.jsx)(le.a.Option,{value:!1,children:"Public"})]})}),Object(S.jsx)(O.a,{htmlType:"submit",children:"Edit"})]})})})})})};var de=function(){var e=Object(h.c)((function(e){return e.alertsReducer})),t=e.loading,c=e.likeOrUnlikeLoading,s=Object(h.b)();return Object(n.useEffect)((function(){s(W()),s(ce())}),[]),Object(S.jsxs)("div",{className:"App",children:[(t||c)&&Object(S.jsx)("div",{className:"spinner-border ",role:"status",style:{borderWidth:5},children:Object(S.jsx)("span",{class:"sr-only",children:"Loading..."})}),Object(S.jsxs)(l.a,{children:[Object(S.jsx)(o.b,{path:"/login",exact:!0,component:ne}),Object(S.jsx)(o.b,{path:"/register",exact:!0,component:se}),Object(S.jsx)(je,{path:"/",exact:!0,component:te}),Object(S.jsx)(je,{path:"/profile/:userid",exact:!0,component:ee}),Object(S.jsx)(je,{path:"/addpost",exact:!0,component:q}),Object(S.jsx)(je,{path:"/allusers",exact:!0,component:ie}),Object(S.jsx)(je,{path:"/editprofile",exact:!0,component:oe})]})]})},je=function(e){return localStorage.getItem("user")?Object(S.jsx)(o.b,Object(i.a)({},e)):Object(S.jsx)(o.a,{to:"/login"})},ue=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,310)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),r(e),a(e)}))},be=c(93),pe=c(175),Oe=c(176),he={loading:!1,likeOrUnlikeLoading:!1,addCommentLoading:!1,followLoading:!1,unfollowLoading:!1,editPostLoading:!1,deletePostLoading:!1},xe={posts:[]},me={users:[]},fe=Object(be.combineReducers)({usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;return"GET_ALL_USERS"===t.type?Object(i.a)(Object(i.a)({},e),{},{users:t.payload}):e},alertsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(i.a)(Object(i.a)({},e),{},{loading:t.payload});case"LIKE_UNLIKE_LOADING":return Object(i.a)(Object(i.a)({},e),{},{likeOrUnlikeLoading:t.payload});case"ADD_COMMENT_LOADING":return Object(i.a)(Object(i.a)({},e),{},{addCommentLoading:t.payload});case"FOLLOW_LOADING":return Object(i.a)(Object(i.a)({},e),{},{followLoading:t.payload});case"UNFOLLOW_LOADING":return Object(i.a)(Object(i.a)({},e),{},{unfollowLoading:t.payload});case"EDIT_POST_LOADING":return Object(i.a)(Object(i.a)({},e),{},{editPostLoading:t.payload});case"DELETE_POST_LOADING":return Object(i.a)(Object(i.a)({},e),{},{deletePostLoading:t.payload});default:return e}},postsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;return"GET_ALL_POSTS"===t.type?Object(i.a)(Object(i.a)({},e),{},{posts:t.payload}):e}}),ge=Object(pe.composeWithDevTools)({}),ye=Object(be.createStore)(fe,ge(Object(be.applyMiddleware)(Oe.a)));a.a.render(Object(S.jsx)(h.a,{store:ye,children:Object(S.jsx)(de,{})}),document.getElementById("root")),ue()}},[[288,1,2]]]);
//# sourceMappingURL=main.e7026a31.chunk.js.map